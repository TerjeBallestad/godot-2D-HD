[gd_scene format=3 uid="uid://bq8x2ky5l6m1p"]

[ext_resource type="Script" uid="uid://dmnc3x2uqx574" path="res://scenes/interior/interior_scene.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://dmlyyetwnmo7" path="res://assets/models/furniture/floorFull.glb" id="2_floor"]
[ext_resource type="PackedScene" uid="uid://cgynvt7utkbwh" path="res://assets/models/furniture/wall.glb" id="3_wall"]
[ext_resource type="PackedScene" uid="uid://btgai87vf6q1s" path="res://assets/models/furniture/wallWindow.glb" id="4_wallwindow"]
[ext_resource type="PackedScene" uid="uid://du6gnu8jbg4h3" path="res://assets/models/furniture/wallCorner.glb" id="5_wallcorner"]
[ext_resource type="PackedScene" uid="uid://cvmqwftya08ke" path="res://assets/models/furniture/loungeSofa.glb" id="6_sofa"]
[ext_resource type="PackedScene" uid="uid://dqsbdb4dd4eyw" path="res://assets/models/furniture/loungeChair.glb" id="7_chair"]
[ext_resource type="PackedScene" uid="uid://cl5dvbq6brb7y" path="res://assets/models/furniture/tableCoffee.glb" id="8_coffeetable"]
[ext_resource type="PackedScene" uid="uid://cyqa5ug1gov28" path="res://assets/models/furniture/sideTable.glb" id="9_sidetable"]
[ext_resource type="PackedScene" uid="uid://dtwolposjtqns" path="res://assets/models/furniture/lampRoundFloor.glb" id="10_floorlamp"]
[ext_resource type="PackedScene" uid="uid://bx8bvgf75rlpy" path="res://assets/models/furniture/rugRectangle.glb" id="11_rug"]
[ext_resource type="PackedScene" uid="uid://c55cc3mf8s75i" path="res://assets/models/furniture/bookcaseClosedWide.glb" id="12_bookcase"]
[ext_resource type="PackedScene" uid="uid://b1qnigrqrboij" path="res://assets/models/furniture/pottedPlant.glb" id="13_plant"]
[ext_resource type="PackedScene" uid="uid://dwdkkh6i3t3xx" path="res://assets/models/furniture/books.glb" id="14_books"]
[ext_resource type="PackedScene" uid="uid://c8xr2m5k7h3np" path="res://scenes/character/player_character.tscn" id="15_player"]
[ext_resource type="Script" uid="uid://cpawxsitqkle8" path="res://scenes/interior/camera_rig.gd" id="16_camera_rig"]
[ext_resource type="Shader" uid="uid://bhrbe8eown4ar" path="res://shaders/vignette.gdshader" id="17_vignette"]
[ext_resource type="Shader" uid="uid://bm2schfysj5y3" path="res://shaders/tilt_shift.gdshader" id="18_tiltshift"]
[ext_resource type="Script" uid="uid://6nm0npavdeap" path="res://scenes/interior/tilt_shift_controller.gd" id="19_tiltshift_controller"]

[sub_resource type="NavigationMesh" id="NavigationMesh_1"]
geometry_parsed_geometry_type = 0
cell_size = 0.1
cell_height = 0.1
agent_height = 1.0
agent_radius = 0.3

[sub_resource type="Environment" id="Environment_1"]
background_mode = 1
background_color = Color(0.15, 0.15, 0.18, 1)
ambient_light_source = 2
ambient_light_color = Color(0.6, 0.55, 0.5, 1)
ambient_light_energy = 0.61
tonemap_mode = 3
tonemap_white = 6.0
ssao_enabled = true
ssil_enabled = true
sdfgi_use_occlusion = true
glow_enabled = true
glow_levels/1 = 1.0
glow_levels/2 = 1.0
glow_levels/4 = 1.0
glow_normalized = true
glow_strength = 0.3
glow_bloom = 0.47
glow_blend_mode = 0
fog_enabled = true
fog_light_color = Color(0.2252262, 0.07481218, 0.35061356, 1)
fog_light_energy = 0.86
fog_density = 0.109
fog_sky_affect = 0.0
volumetric_fog_density = 0.09
volumetric_fog_albedo = Color(0.9, 0.9, 0.9, 1)
volumetric_fog_emission = Color(0.4204399, 0.23259506, 0.606218, 1)
volumetric_fog_emission_energy = 0.1
volumetric_fog_gi_inject = 0.1
volumetric_fog_anisotropy = 0.6
adjustment_enabled = true
adjustment_brightness = 0.88
adjustment_contrast = 1.03
adjustment_saturation = 1.14

[sub_resource type="BoxShape3D" id="BoxShape3D_1"]
size = Vector3(4, 0.08127441, 4)

[sub_resource type="QuadMesh" id="QuadMesh_tiltshift"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tiltshift"]
render_priority = 0
shader = ExtResource("18_tiltshift")
shader_parameter/focal_point = Vector3(0, 0.5, 0)
shader_parameter/focus_distance = 0.6
shader_parameter/blur_max = 1.5
shader_parameter/blur_transition = 2.0
shader_parameter/enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vignette"]
shader = ExtResource("17_vignette")
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.4
shader_parameter/vignette_color = Color(0.1, 0.07, 0.03, 1)

[node name="InteriorScene" type="Node3D" unique_id=1594013898]
script = ExtResource("1_script")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="." unique_id=1176016399]
navigation_mesh = SubResource("NavigationMesh_1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=932483073]
environment = SubResource("Environment_1")

[node name="Lighting" type="Node3D" parent="." unique_id=898084650]

[node name="WindowLight" type="DirectionalLight3D" parent="Lighting" unique_id=242788534]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 0, 0)
light_color = Color(0.85, 0.9, 1, 1)
light_energy = 0.2
shadow_enabled = true
shadow_bias = 0.03

[node name="Lamps" type="Node3D" parent="Lighting" unique_id=1597192297]

[node name="TableLamp" type="OmniLight3D" parent="Lighting/Lamps" unique_id=2065539924]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2691188, 1.4742656, 1.3529654)
light_color = Color(1, 0.85, 0.65, 1)
light_energy = 0.384
light_indirect_energy = 1.794
light_size = 0.171
light_bake_mode = 1
shadow_enabled = true
shadow_bias = 0.02
shadow_normal_bias = 2.0
shadow_blur = 1.5
omni_attenuation = 1.2

[node name="FloorLamp" type="OmniLight3D" parent="Lighting/Lamps" unique_id=370763913]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7671743, 0.78675437, 0.8418287)
light_color = Color(1, 0.85, 0.65, 1)
light_energy = 0.305
light_bake_mode = 1
shadow_enabled = true
shadow_bias = 0.02
shadow_normal_bias = 2.0
shadow_blur = 1.5
omni_range = 4.0
omni_attenuation = 1.2

[node name="Fireplace" type="OmniLight3D" parent="Lighting" unique_id=389766960]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.47212452, 0.6112332, -1.5727198)
light_color = Color(1, 0.65, 0.35, 1)
light_energy = 0.32
light_bake_mode = 1
shadow_enabled = true
shadow_bias = 0.02
shadow_normal_bias = 2.0
shadow_blur = 2.0
omni_range = 3.0
omni_attenuation = 1.5

[node name="Environment" type="Node3D" parent="." unique_id=446150029]

[node name="Assets" type="Node3D" parent="." unique_id=1010171630]

[node name="Room" type="Node3D" parent="Assets" unique_id=1792665150]

[node name="Floor1" parent="Assets/Room" unique_id=408324698 instance=ExtResource("2_floor")]

[node name="Floor2" parent="Assets/Room" unique_id=32922190 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, 0)

[node name="Floor3" parent="Assets/Room" unique_id=1449670133 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)

[node name="Floor4" parent="Assets/Room" unique_id=1046990387 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="Floor5" parent="Assets/Room" unique_id=679589800 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, -1)

[node name="Floor6" parent="Assets/Room" unique_id=480408458 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -1)

[node name="Floor7" parent="Assets/Room" unique_id=516019632 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="Floor8" parent="Assets/Room" unique_id=120153517 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, 1)

[node name="Floor9" parent="Assets/Room" unique_id=2023842093 instance=ExtResource("2_floor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 1)

[node name="WallBack1" parent="Assets/Room" unique_id=1797603548 instance=ExtResource("3_wall")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.48833704, 2.3841858e-07, -2.003965)

[node name="WallBack2" parent="Assets/Room" unique_id=620581432 instance=ExtResource("3_wall")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.51166296, 2.3841858e-07, -2.003965)

[node name="WallBack3" parent="Assets/Room" unique_id=1276064805 instance=ExtResource("3_wall")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.511663, 2.3841858e-07, -2.003965)

[node name="WallWindowLeft" parent="Assets/Room" unique_id=1650507126 instance=ExtResource("4_wallwindow")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -0.98833704, 2.3841858e-07, -0.4956693)

[node name="WallLeft1" parent="Assets/Room" unique_id=1947268832 instance=ExtResource("3_wall")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -0.98833704, 2.3841858e-07, 0.5043307)

[node name="WallLeft2" parent="Assets/Room" unique_id=508603068 instance=ExtResource("3_wall")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -0.98833704, 2.3841858e-07, 1.5043306)

[node name="WallCornerBackLeft" parent="Assets/Room" unique_id=1375889595 instance=ExtResource("5_wallcorner")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -0.48823047, 2.3841858e-07, -2.0453587)

[node name="Furniture" type="Node3D" parent="Assets" unique_id=163188262]

[node name="Sofa" parent="Assets/Furniture" unique_id=1840022449 instance=ExtResource("6_sofa")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -0.42761964, 0.06725025, 0.40724024)

[node name="CoffeeTable" parent="Assets/Furniture" unique_id=957487757 instance=ExtResource("8_coffeetable")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0.06816745, 0)

[node name="Chair1" parent="Assets/Furniture" unique_id=497070319 instance=ExtResource("7_chair")]
transform = Transform3D(0, 0, -1, 0, 1, 0, 1, 0, 0, 0.8, 0.073565066, -0.6)

[node name="SideTable1" parent="Assets/Furniture" unique_id=1731733603 instance=ExtResource("9_sidetable")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.258054, 0.054056168, -1.7555039)

[node name="SideTable2" parent="Assets/Furniture" unique_id=798658616 instance=ExtResource("9_sidetable")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -0.72694635, 0, -0.78940946)

[node name="FloorLamp" parent="Assets/Furniture" unique_id=1540549167 instance=ExtResource("10_floorlamp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8256717, 0.05391717, 0.9)

[node name="Rug" parent="Assets/Furniture" unique_id=1385996068 instance=ExtResource("11_rug")]
transform = Transform3D(1.5, 0, 0, 0, 1, 0, 0, 0, 1.5, -0.8018414, 0.05626882, 0.61581826)

[node name="Bookcase" parent="Assets/Furniture" unique_id=810727614 instance=ExtResource("12_bookcase")]
transform = Transform3D(1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, 1, 0.20000005, 0.054459333, -1.7227707)

[node name="PottedPlant" parent="Assets/Furniture" unique_id=1546350414 instance=ExtResource("13_plant")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7072345, 5.9604645e-08, 0.62991136)

[node name="Books" parent="Assets/Furniture" unique_id=657288847 instance=ExtResource("14_books")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0.31816745, 0)

[node name="Player" parent="." unique_id=1018124595 instance=ExtResource("15_player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.97321534, 0.08013752, 0.19143519)

[node name="FloorCollider" type="StaticBody3D" parent="." unique_id=2116644496]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="FloorCollider" unique_id=1825101688]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0142023, 0)
shape = SubResource("BoxShape3D_1")

[node name="CameraRig" type="Node3D" parent="." unique_id=1912547631]
script = ExtResource("16_camera_rig")

[node name="InnerGimbal" type="Node3D" parent="CameraRig" unique_id=346794485]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, 0)

[node name="Camera3D" type="Camera3D" parent="CameraRig/InnerGimbal" unique_id=146191616]
transform = Transform3D(1, 0, 0, 0, 1.0000005, 0, 0, 0, 1.0000005, 1.0418037, 0.0066730976, 4.9884424)
current = true
fov = 29.7
near = 0.1
far = 100.0

[node name="TiltShiftQuad" type="MeshInstance3D" parent="CameraRig/InnerGimbal/Camera3D" unique_id=389583036]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.1)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_tiltshift")
surface_material_override/0 = SubResource("ShaderMaterial_tiltshift")
script = ExtResource("19_tiltshift_controller")
player_path = NodePath("../../../../Player")

[node name="PostProcessing" type="CanvasLayer" parent="." unique_id=895481220]
layer = 100

[node name="Vignette" type="ColorRect" parent="PostProcessing" unique_id=2116681114]
material = SubResource("ShaderMaterial_vignette")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
